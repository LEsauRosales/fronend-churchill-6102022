<div fxLayoutAlign="end end" style="margin-bottom: 2%;">
    <button mat-flat-button color="warn" mat-dialog-close>X</button>
</div>

<div fxLayoutAlign="center center">
    <h1> CCTV</h1>
</div>
<hr>

<mat-card style="width: 100%; height: 100%; background: #e1e6eb;">

    <div fxLayoutAlign="space-around">
        <mat-form-field appearance="legacy" fxLayoutAlign="center center">
            <mat-label>
                Buscar
            </mat-label>
            <input matInput placeholder="Ingrese Dato" (keyup)="applyFilter($event)" #input>
            <mat-icon matSuffix style="color: #1da1f2">search</mat-icon>
        </mat-form-field>
    </div>

    <div fxLayoutAlign="center center">
        <div class="table mat-elevation-z8">

            <table mat-table [dataSource]="dataSource" matSort class="table-home">

                <ng-container matColumnDef="videoAnalitico">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Vídeo Analítico </th>
                    <td mat-cell *matCellDef="let row" (click)="openDialogCctvDetail()"> {{row.videoAnalitico}} </td>
                </ng-container>

                <ng-container matColumnDef="planta">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Planta </th>
                    <td mat-cell *matCellDef="let row" (click)="openDialogCctvDetail()"> {{row.planta}} </td>
                </ng-container>

                <ng-container matColumnDef="camera">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Cámara </th>
                    <td mat-cell *matCellDef="let row" (click)="openDialogCctvDetail()"> {{row.camera}} </td>
                </ng-container>

                <ng-container matColumnDef="ip">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> IP </th>
                    <td mat-cell *matCellDef="let row" (click)="openDialogCctvDetail()"> {{row.ip}} </td>
                </ng-container>

                <ng-container matColumnDef="perimetro">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Perímetro </th>
                    <td mat-cell *matCellDef="let row" (click)="openDialogCctvDetail()"> {{row.perimetro}} </td>
                </ng-container>

                <ng-container matColumnDef="nivelRiesgo">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Nivel de Riesgo </th>
                    <td mat-cell *matCellDef="let row"> {{row.nivelRiesgo}} </td>
                </ng-container>

                <ng-container matColumnDef="protocol">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Protocolo de Acción </th>
                    <td mat-cell *matCellDef="let row"> {{row.protocol}} </td>
                </ng-container>

                <ng-container matColumnDef="fechaRecibido">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Fecha de Recibido </th>
                    <td mat-cell *matCellDef="let row" (click)="openDialogCctvDetail() "> {{row.fechaRecibido}} </td>
                </ng-container>

                <ng-container matColumnDef="fechaResolucion">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Fecha de Resolución </th>
                    <td mat-cell *matCellDef="let row" (click)="openDialogCctvDetail() "> {{row.fechaResolucion}} </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

                <tr class="mat-row" *matNoDataRow>
                    <td class="mat-cell" colspan="4">No se encontró información de "{{input.value}}"</td>
                </tr>
            </table>

        </div>
    </div>

    <mat-paginator fxLayoutAlign="center center" style="background: #e1e6eb; color: black;  font-weight: bold;" [pageSizeOptions]="[5, 10, 15, 20]"></mat-paginator>

</mat-card>