<div style="width: auto; height: 90vh;">
    <div fxLayoutAlign="end end">
        <button mat-flat-button color="warn" mat-dialog-close>X</button>
    </div>

    <div>
        <h1 fxLayoutAlign="center center"> Envío de reporte de incidencia </h1>
        <hr>
    </div>

    <div fxLayoutAlign="right right">

        <!-- Mapa -->
        <div style="margin-right: 2%;">
            <mat-card style="background: #bbdeff; width: auto;">
                <agm-map [latitude]="lat" [longitude]="lng" [zoom]="zoom">
                    <agm-marker [latitude]="lat" [longitude]="lng"> </agm-marker>
                 </agm-map>
            </mat-card>
        </div>

        <div style="width: auto; height: auto;">

            <mat-card style="background: #e1e6eb; width: auto; height: auto; margin-bottom: 1%;">
                <div>
                    <h1 fxLayoutAlign="center center ">Detalle de Incidencia </h1>
                </div>
                <hr>
                <mat-card-content style="width: auto; height: auto; " fxLayoutAlign="space-around ">
                    <div style="margin-right: 1%; ">
                        <p> <b> Ubicación: {{data.tweetSelected.location}}</b> </p>
                        <p> <b> Nivel de Riesgo:{{data.tweetSelected.level_risk} </b> </p>
                    </div>
                    <div>
                        <p> <b> Tipo de Alerta :{{data.tweetSelected.alert_type}} </b> </p>
                        <p> <b> Protocolo de acción :{{data.tweetSelected.action_protocol}} </b> </p>
                    </div>
                </mat-card-content>
                <div fxLayoutAlign="center center " style="width: auto; height: auto; ">
                    <button mat-stroked-button disabled style="color: rgb(144, 180, 140); ">Mensaje Enviado: {{data.tweetSelected.action_protocol}}<mat-icon>check</mat-icon></button>
                </div>
                <hr>
            </mat-card>

            <!-- tabla -->

            <mat-card style="width: 100%; height: auto; background: #e1e6eb; ">

                <div fxLayoutAlign="space-around ">
                    <h1>Usuarios Relacionados</h1>
                    <mat-form-field appearance="legacy " fxLayoutAlign="center center ">
                        <mat-label>Buscar Usuario</mat-label>
                        <input matInput placeholder="Ingrese Nombre " (keyup)="applyFilter($event) " #input>
                        <mat-icon matSuffix style="color: #1da1f2 ">search</mat-icon>
                    </mat-form-field>
                </div>
                <hr>

                <div fxLayoutAlign="center center ">
                    <div class="table mat-elevation-z8 ">

                        <table mat-table [dataSource]="dataSourceUserLocation " matSort class="table-home ">

                            <ng-container matColumnDef="numeroEmpleado">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header> Número de Empleado </th>
                                <td mat-cell *matCellDef="let row "> {{row.userEmployeeNumber}} </td>
                            </ng-container>

                            <ng-container matColumnDef="nombre">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header> Nombre </th>
                                <td mat-cell *matCellDef="let row "> {{row.userName }}  {{row.userLastName}}</td>
                            </ng-container>

                            <ng-container matColumnDef="posicion">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header> Posición </th>
                                <td mat-cell *matCellDef="let row "> Por definir </td>
                            </ng-container>

                            <ng-container matColumnDef="ubicacion">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header> Ubicación </th>
                                <td mat-cell *matCellDef="let row "> {{row.location}} </td>
                            </ng-container>

                            <tr mat-header-row *matHeaderRowDef="displayedColumns "></tr>
                            <tr mat-row *matRowDef="let row; columns: displayedColumns; "></tr>

                            <tr class="mat-row " *matNoDataRow>
                                <td class="mat-cell " colspan="4 ">No se encontró información de "{{input.value}} "</td>
                            </tr>
                        </table>

                    </div>
                </div>

                <mat-paginator fxLayoutAlign="center center " style="background: #e1e6eb; color: black; font-weight: bold; " [pageSizeOptions]="[3, 5, 10, 20] "></mat-paginator>

            </mat-card>
        </div>

    </div>

</div>